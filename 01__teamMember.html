<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class 14 Assignment</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">


    <!-- Font Awesome Link  -->
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
        integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />

    <style>
        /* For Devs Add Project */
        .developer__item {
            width: 8cm;
            height: 100%;
            margin: 30px;
            background: white;
            box-shadow: 0px 0px 8px 2px rgba(0, 0, 0, 0.08);
            position: relative;
        }

        .developer__item>div img:nth-child(2) {
            position: absolute;
            top: 0;
            left: 0;
            width: 182px;
            left: 50%;
            transform: translateX(-50%);
            height: 149px;
            object-fit: cover;
        }

        .developer__item>div img:nth-child(3) {
            position: absolute;
            top: 0;
            left: 0;
        }

        /* Dev Item CLose Btn */

        .developer__item button {
            padding: 0;
            border: none;
            border-radius: unset;
            margin-left: 25px;
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
        }

        .developer__item button>i {
            font-size: 10px;
            vertical-align: middle;
            margin-left: 10px;
            padding: 10px;
            transition: 0.3s;
            cursor: pointer;
            display: inline-block;
        }

        .developer__item button>i:hover {
            background: #151515d6;
            color: white;
        }

        .developer__item button:active {
            box-shadow: none !important;
        }

        @import url('https://fonts.googleapis.com/css2?family=Jost:wght@300;400&display=swap');

        body {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
            object-fit: cover;
            font-family: 'Jost', sans-serif !important;
            max-width: 1850px;
            margin: auto;
        }

        .developer__container {
            color: #090606;
        }

        .section__heading h1 {
            text-align: center;
            position: relative;
        }

        .section__heading h1::before {
            content: "";
            width: 100%;
            background: url(images/Line\ 5heading__after.png);
            background-repeat: no-repeat;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            top: 17px;
            background-position: center;
            background-size: 241px;
            height: 100%;
        }

        section {
            margin-bottom: 50px;
        }

        .developer__item__container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }

        .developer__item {
            width: 8cm;
            height: 100%;
            margin: 30px;
            background: white;
            box-shadow: 0px 0px 8px 2px rgba(0, 0, 0, 0.08);

        }

        .developer__item img {
            width: 100%;
            margin-bottom: 15px;
        }

        .developer__name {
            margin: 0px 15px 0px 15px;
            position: relative;
            z-index: 1;
            color: #3A3838;
            display: inline;
            font-size: x-large !important;
        }

        .developer__name::before {
            content: "";
            width: 105%;
            height: 15px;
            background: #D9FFBB;
            position: absolute;
            bottom: 3px;
            z-index: -1;
            left: -7px;
        }

        .developer__desc {
            display: flex;
            justify-content: space-between;
            font-size: 18px !important;
            margin: 25px 15px 15px 15px;
            color: #3A3838;
        }
    </style>

</head>

<body>

    <div class="container-xxl teamMember__container">
        <div class="row">
            <div class="col-md-4">
                <form class="position-sticky devAddForm" action="javascript:devAdd();" style="top:10px;margin:30px;">
                    <div class="form-control">
                        <input required value="Muhammad Sumon" id="devName" class="w-100 p-2 my-2"
                            placeholder="Developer Name" type="text">
                        <input required value="Mern Stack Developer" id="devTitle" class="w-100 p-2 my-2"
                            placeholder="Developer Title" type="text">
                        <input required
                            value="https://images.unsplash.com/photo-1600486913747-55e5470d6f40?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80"
                            id="devImg" class="w-100 p-2 my-2" placeholder="Developer image" type="text">
                        <input value="Dhaka" required id="devLocation" class="w-100 p-2 my-2"
                            placeholder="Developer Location" type="text">
                        <input value="21" required id="devAge" class="w-100 p-2 my-2" placeholder="Developer Age"
                            type="number">
                        <input value="4555" required id="devIncome" class="w-100 p-2 my-2"
                            placeholder="Developer Income Ex- 4200$" type="text">
                        <input class="w-100 p-2 my-2 btn btn-success" value="Add Dev" type="submit">
                    </div>
                </form>
            </div>
            <div class="col-md-8">
                <div class="developer__item__container">
                </div>
            </div>
        </div>
    </div>

    <script>
        let memberItemContainer = document.querySelector(".developer__item__container");
        let devName = document.querySelector("#devName");
        let devTitle = document.querySelector("#devTitle");
        let devImg = document.querySelector("#devImg");
        let devLocation = document.querySelector("#devLocation");
        let devAge = document.querySelector("#devAge");
        let devIncome = document.querySelector("#devIncome");
        let devItemRemove = document.querySelectorAll(".devItemRemove");
        devItem = `
    <div class="developer__item">
    <div class="position-relative">
        <img src="images/img__bg.png" alt="pattern">
        <img src="${devImg.value}"
            alt="developer__image">
        <img src="images/img_bottom_shape.png" alt="img__bottom__shape">
    </div>
    <h2 class="developer__name">${devName.value}</h2>
    <button class="devItemRemove"  ><i class="border rounded fas fa-times"></i></button>
    <div class="developer__desc">
        <div>
            <p class="developer__desc__item title">${devTitle.value}</p>
            <p class="developer__desc__item age">${devAge.value} Year Old</p>
        </div>
        <div>

            <p class="developer__desc__item location">${devLocation.value}</p>
            <p class="developer__desc__item income">${incomeSort(devIncome.value,'$')}/Year</p>
        </div>

    </div>
    </div>
    `;
        let devArr = [];
        let devArrST, dataNum, dataIdentifyNum;

        devArrST = getItem("devArr");


        function formInputValueGenerate() {

            const formData = {

                devName: [
                    "Muhammad Sumon",
                    "Arif Ahmed",
                    "Asik Rahman",
                    "Imran Mahmud",
                    "Rimon Hossen",
                    "Omar Faruk",
                    "Hasan Mahmud",
                    "Huzaifa Rahman",
                    "Asraf Ahmed",
                    "ASid Khan",
                    "Muhammad Faruk",
                ],
                devTitle: [
                    "Mern Stack Dev",
                    "Python Dev",
                    "Php Dev",
                    "Wordpress Dev",
                    "GO Dev",
                    "Full Stack Dev",
                    "Javascript Dev",
                    "Kotlin Dev",
                    "Flutter Dev",
                ],
                devImg: [
                    "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80",

                    "https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1yZWxhdGVkfDN8fHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60",

                    "https://images.unsplash.com/photo-1531891437562-4301cf35b7e4?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1yZWxhdGVkfDV8fHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60",

                    "https://images.unsplash.com/photo-1513956589380-bad6acb9b9d4?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1yZWxhdGVkfDR8fHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60",

                    "https://images.unsplash.com/photo-1507081323647-4d250478b919?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1yZWxhdGVkfDl8fHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60",

                    "https://images.unsplash.com/photo-1520341280432-4749d4d7bcf9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1yZWxhdGVkfDE4fHx8ZW58MHx8fHw%3D&auto=format&fit=crop&w=500&q=60",

                    "https://images.unsplash.com/photo-1456327102063-fb5054efe647?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1yZWxhdGVkfDh8fHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60",

                ],
                devLocation: [
                    "Mirpur",
                    "Mohammadpur",
                    "Shamoli",
                    "Banani",
                    "Lalmatia",
                    "Dhanmondi",
                    "Bosila",
                    "America",
                    "Russia",
                    "Koria",
                    "Turkey",
                ],
                devAge: Math.floor(Math.random() * (55 - 15 + 1) + 15),
                devIncome: Math.floor(Math.random() * (8445 - 863 + 1) + 863),

            }

            devName.value = formData.devName[Math.floor(Math.random() * formData.devName.length)];
            devTitle.value = formData.devTitle[Math.floor(Math.random() * formData.devTitle
                .length)];
            devImg.value = formData.devImg[Math.floor(Math.random() * formData.devImg.length)];
            devLocation.value = formData.devLocation[Math.floor(Math.random() * formData.devLocation
                .length)];
            devAge.value = formData.devAge;
            devIncome.value = formData.devIncome;

        }
        formInputValueGenerate();


        // For Developers

        function incomeSort(income, currency) {

            if (income >= 999) {

                income = (income.toString().split(""));
                income.splice(1, 0, ".");
                income = Number(income.join("")).toFixed(1);

                return `${income}${currency}`;

            } else if (income <= 999) {

                return income + currency;
            }
        }

        /**
         * Set & Get Item from/in LS
         */

        function setItem(key, value) {
            return localStorage.setItem(key, JSON.stringify(value));
        }

        function getItem(key) {
            return JSON.parse(localStorage.getItem(key));
        }

        /**
         * Dev info add on form submit
         */
        function devAdd() {

            // Random Number which will never repeat again
            dataNum = parseInt(Date.now() * (Math.random() / 189345678));

            // Add the dev info in LS
            if (getItem("devArr")) {
                devArr = getItem("devArr");
            } else {
                devArr = [];
            }
            devArr.push({
                "id": dataNum,
                "devName": devName.value,
                "devTitle": devTitle.value,
                "devImg": devImg.value,
                "devLocation": devLocation.value,
                "devAge": devAge.value,
                "devIncome": devIncome.value
            });
            setItem("devArr", devArr);

            // Show dev info in the frond End
            memberItemContainer.innerHTML += `
                <div class="developer__item" dataif = "${dataNum}">
                <div class="position-relative">
                <img src="images/img__bg.png" alt="pattern">
                <img src="${devImg.value}"
                    alt="developer__image">
                <img src="images/img_bottom_shape.png" alt="img__bottom__shape">
                </div>
                <h2 class="developer__name">${devName.value}</h2>
                <button class="devItemRemove"  ><i class="border rounded fas fa-times"></i></button>
                <div class="developer__desc">
                <div>
                    <p class="developer__desc__item title">${devTitle.value}</p>
                    <p class="developer__desc__item age">${devAge.value} Year Old</p>
                </div>
                <div>
                    <p class="developer__desc__item location">${devLocation.value}</p>
                    <p class="developer__desc__item income">${incomeSort(devIncome.value,'$')}/Year</p>
                </div>

                </div>
                </div>
    `;

            // Initially remove dev info after adding from list
            devItemRemove = document.querySelectorAll(".devItemRemove");
            devArrST = getItem("devArr");
            devRemove();

            // Auto scroll to the the added dev info div
            memberItemContainer.scrollIntoView({
                behavior: 'smooth',
                block: 'end'
            });
            formInputValueGenerate();

        }

        // Show Dev info From LS if refresh
        if (devArrST) {
            devArrST.map(data => {

                memberItemContainer.innerHTML += `
        <div class="developer__item" dataif="${data.id}">
        <div class="position-relative">
            <img src="images/img__bg.png" alt="pattern">
            <img src="${data.devImg}"
                alt="developer__image">
            <img src="images/img_bottom_shape.png" alt="img__bottom__shape">
        </div>
        <h2 class="developer__name">${data.devName}</h2>
        <button class="devItemRemove"  ><i class="border rounded fas fa-times"></i></button>
        <div class="developer__desc">
            <div>
                <p class="developer__desc__item title">${data.devTitle}</p>
                <p class="developer__desc__item age">${data.devAge} Year Old</p>
            </div>
            <div>

                <p class="developer__desc__item location">${data.devLocation}</p>
                <p class="developer__desc__item income">${incomeSort(data.devIncome,'$')}/Year</p>
            </div>

        </div>
        </div>
        `;
            })
            devItemRemove = document.querySelectorAll(".devItemRemove");
        }

        // To Remove One Dev Info from list
        function devRemove() {
            devItemRemove.forEach(getData => {

                getData.addEventListener("click", function () {
                    dataIdentifyNum = this.parentElement.getAttribute("dataif");

                    document.querySelectorAll(".developer__item").forEach(data => {
                        if (dataIdentifyNum == data.getAttribute("dataif")) {

                            devArrST.map(data => {
                                if (data.id == dataIdentifyNum) {

                                    var myIndex = devArrST.indexOf(data);
                                    if (myIndex !== -1) {
                                        devArrST.splice(myIndex, 1);
                                    }
                                    setItem("devArr", devArrST)
                                }
                            })
                            data.remove();
                        }
                    })
                })
            })
        }
        devRemove();
    </script>
</body>

</html>